public class Main{
    public static void getHammingBit(int[] msg, String parityScheme){

        System.out.println("This generalized function calculates parity bits for h1,h2,h4,h8);
        System.out.println("Length of message: " + msg.length);

        //Number of parity bits
        int r = 0;
        while((Math.pow(2,r)) < msg.length + r + 1){
            r++;
        }

        //Positions of those parity bits
        for(int i = 0; i < r; i++){
            int parityPos = (int) Math.pow(2,i);
            if(parityPos > msg.length) break;

            //Calculating sum of particular parity bits
            int sum = 0;

            for(int j = 1; j <= msg.length; j++){
                if((j & parityPos) != 0){

                    //Replacing 9s in the message with the calculated value 
                    if(msg[j-1] != 9){
                    sum +=msg[j-1];
                }
              }
            }

            System.out.println("Sum for h" + parityPos + "= " + sum);

            //Calculating parity Scheme(Odd/Even)
            int parityValue;
            if(parityScheme.equalsIgnoreCase("ODD")){
            
            if((sum % 2) == 0)
                parityValue = 1;
                else
                parityValue = 0;

                System.out.println("Parity Scheme for h" + parityPos + "= " + parityValue);
                
        }
     }        
  }
    public static void main(String[] args){
        int[] msg = {2,9,9,0,9,1,1,0,9,0,0,0,1,1,1}; 
        String parityScheme = "ODD";

        //calling function
        getHammingBit(msg, parityScheme);
    }
}
